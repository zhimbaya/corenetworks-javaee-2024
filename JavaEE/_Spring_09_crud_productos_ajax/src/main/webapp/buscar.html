<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Last-Modified" content="0">
    <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
    <meta http-equiv="Pragma" content="no-cache"> 
    <title>Buscar productos por categoría</title>
    <link rel="stylesheet" href="miestilo.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div>
        <h1>Buscar productos por categoría</h1>
        <input type="text" name="categoria" id="categoria" placeholder="Categoría del producto"> 
        <input type="button" value="Mostrar" id="btnMostrar">
    </div>
    <div id="tablaProductos">
    
    </div>
    <br>
    <div>
    <a href="toMenu">Volver</a>
    </div>
    
   <script type="text/javascript">
		$("#btnMostrar").click(function(){
			var url="buscar";
			var params={"categoria":$("#categoria").val()};
			gestionarPeticion(url,params);
		});
	
		function gestionarPeticion(url,params){
			$.get(url,params,function(data){
				var tabla="<table border='1'><tr><th>Producto</th><th>Precio</th></tr>";
				$.each(data,function(i,p){
					tabla+="<tr><td>"+p.nombre+"</td><td>"+p.precio+"</td></tr>";
				});
				tabla+="</table>";
				$("#tablaProductos").html(tabla);
			});
		}
	</script>
</body>
</html>

